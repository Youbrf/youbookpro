{"version":3,"file":"booking/view.js","mappings":"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","sources":["webpack://youbookpro/./node_modules/react-dom/client.js","webpack://youbookpro/external window \"React\"","webpack://youbookpro/external window \"ReactDOM\"","webpack://youbookpro/external window \"ReactJSXRuntime\"","webpack://youbookpro/webpack/bootstrap","webpack://youbookpro/webpack/runtime/compat get default export","webpack://youbookpro/webpack/runtime/define property getters","webpack://youbookpro/webpack/runtime/hasOwnProperty shorthand","webpack://youbookpro/webpack/runtime/make namespace object","webpack://youbookpro/./src/booking/view.js"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","module.exports = window[\"React\"];","module.exports = window[\"ReactDOM\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import React, { useState, useEffect } from 'react';\nimport { createRoot } from 'react-dom/client';\n\nfunction BookingBlock() {\n    const [step, setStep] = useState(1);\n    const [selectedServices, setSelectedServices] = useState([]);\n    const [services, setServices] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    const [selectedDate, setSelectedDate] = useState(null);\n    const [reservedSlots, setReservedSlots] = useState([]);\n    const [availableSlots, setAvailableSlots] = useState([]);\n    const [reservations, setReservations] = useState([]);\n    const [selectedSlot, setSelectedSlot] = useState(null);\n    const totalDuration = selectedServices.reduce((sum, service) => sum + parseInt(service.duration), 0);\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        const formData = new FormData(e.target);\n        const clientData = {\n            first_name: formData.get(\"first_name\"),\n            last_name: formData.get(\"last_name\"),\n            email: formData.get(\"email\"),\n            phone: formData.get(\"phone\"),\n            date: selectedDate,\n            time: selectedSlot,\n            services: selectedServices.map(s => s.id),\n            duration: totalDuration\n        };\n\n        fetch('/wp-json/youbookpro/v1/reserve', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(clientData)\n        })\n        .then(res => res.json())\n        .then(data => {\n            alert('Réservation confirmée !');\n            setStep(1);\n            setSelectedServices([]);\n            setSelectedSlot(null);\n            setSelectedDate(null);\n        })\n        .catch(error => {\n            console.error(\"Erreur lors de la réservation :\", error);\n            alert(\"Erreur lors de la réservation.\");\n        });\n    };\n    const generateAvailableSlots = (reservations) => {\n        const opening = 9 * 60;    \n        const closing = 17 * 60;  \n        const interval = 15;      \n        const durationNeeded = totalDuration; \n\n        const slots = [];\n\n        for (let t = opening; t <= closing - durationNeeded; t += interval) {\n            const slotStart = t;\n            const slotEnd = t + durationNeeded;\n\n            if (slotEnd > closing) {\n                continue;\n            }\n\n            const overlap = reservations.some(r => {\n                return (slotStart < r.end && slotEnd > r.start);\n            });\n\n            if (!overlap) {\n                slots.push(minutesToTime(slotStart));\n            }\n        }\n\n        setAvailableSlots(slots);\n    };\n\n    const fetchReservedSlots = (date) => {\n        fetch(`/wp-json/youbookpro/v1/reservations?date=${date}`)\n            .then(res => res.json())\n            .then(data => {\n                setReservedSlots(data.map(r => r.time));\n                setReservations(data);\n\n                const transformed = data.map(r => {\n                    const start = parseTime(r.time);\n                    const end = start + parseInt(r.duration);\n                    return { start, end };\n                });\n\n                generateAvailableSlots(transformed);\n            });\n    };\n\n\n    const toggleService = (service) => {\n        setSelectedServices(prev => {\n            const exists = prev.find(s => s.id === service.id);\n            if (exists) {\n                setError(null); \n                return prev.filter(s => s.id !== service.id);\n            } else {\n                if (prev.length >= 2) {\n                    setError(\"Vous pouvez sélectionner jusqu'à 2 services maximum.\");\n                    return prev;\n                }\n                setError(null); \n                return [...prev, service];\n            }\n        });\n    };\n\n\n    useEffect(() => {\n        fetch('/wp-json/youbookpro/v1/reservations')\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error('Erreur lors du chargement des réservations');\n                }\n                return response.json();\n            })\n            .then(data => {\n                setReservations(data);\n            })\n            .catch(error => {\n                console.error('Erreur fetch réservations:', error);\n            });\n    }, []);\n\n    useEffect(() => {\n        fetch('/wp-json/youbookpro/v1/services')\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error('Erreur de chargement des services');\n                }\n                return response.json();\n            })\n            .then(data => {\n                setServices(data);\n                setLoading(false);\n            })\n            .catch(error => {\n                console.error('Erreur lors du chargement des services:', error);\n                setLoading(false);\n            });\n    }, []);\n\n    useEffect(() => {\n    if (error) {\n        const timer = setTimeout(() => setError(null), 3000); \n        return () => clearTimeout(timer);\n    }\n    }, [error]);\n\n    return (\n        <div className=\"youbookpro-booking\">\n\n            {step === 1 && (\n                <div className=\"services-section\">\n                    {loading ? (\n                        <p>Chargement des services...</p>\n                    ) : (\n                        Object.entries(groupServicesByCategory(services)).map(([category, categoryServices]) => (\n                            <div key={category} className=\"category-block\">\n                                <h4 className=\"category-title\">{decodeHTMLEntities(category)}</h4>\n                                <table className=\"category-table\">\n                                    <thead>\n                                        <tr>\n                                            <th>Nom</th>\n                                            <th>Prix</th>\n                                            <th>Durée</th>\n                                            <th></th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        {categoryServices.map(service => (\n                                            <tr key={service.id}>\n                                                <td>{decodeHTMLEntities(service.title)}</td>\n                                                <td>{service.price} €</td>\n                                                <td>{service.duration} min</td>\n                                                <td>\n                                                    <button onClick={() => toggleService(service)}>\n                                                        {selectedServices.find(s => s.id === service.id) ? 'Retirer' : 'Sélectionner'}\n                                                    </button>\n                                                </td>\n                                            </tr>\n                                        ))}\n                                    </tbody>\n                                </table>\n                            </div>\n                        ))\n                    )}\n                    {error && (\n                        <div className=\"error-popup\">\n                            {error}\n                        </div>\n                    )}\n                    {selectedServices.length > 0 && (\n                        <div className=\"next-step-bar centered\">\n                            <div>\n                                <strong>{selectedServices.length}</strong> service(s) sélectionné(s) – \n                                <strong> {selectedServices.reduce((total, s) => total + parseFloat(s.price), 0)} €</strong>\n                            </div>\n                            <button onClick={() => setStep(2)}>Choisir un créneau →</button>\n                        </div>\n                    )}\n                </div>\n                \n            )}\n\n            {step === 2 && (\n                <div className=\"slots-section\">\n                    <h3>Créneaux disponibles pour :</h3>\n                    <ul>\n                        {selectedServices.map(service => (\n                            <li key={service.id}>{decodeHTMLEntities(service.title)} - {service.duration} min</li>\n                        ))}\n                    </ul>\n                    <input\n                        type=\"date\"\n                        onChange={e => {\n                            setSelectedDate(e.target.value);\n                            fetchReservedSlots(e.target.value);\n                        }}\n                    />\n                    <div className=\"available-slots\">\n                        <h4>Créneaux disponibles pour le {selectedDate}</h4>\n                        <ul className=\"slots-list\">\n                            {availableSlots.map(time => (\n                                <li key={time}>\n                                    <button\n                                        className={selectedSlot === time ? 'selected' : ''}\n                                        onClick={() => setSelectedSlot(time)}\n                                    >\n                                        {time}\n                                    </button>\n                                </li>\n                            ))}\n                        </ul>\n                    </div>\n                    {selectedSlot && (\n                        <div className=\"next-step-bar centered\">\n                            <div>\n                                <strong>Créneau sélectionné :</strong> {selectedSlot}\n                            </div>\n                            <button onClick={() => setStep(3)}>Passer à l’étape suivante →</button>\n                        </div>\n                    )}\n                    <button onClick={() => setStep(1)}>Retour</button>\n                </div>\n            )}\n\n            {step === 3 && (\n                <div className=\"confirmation-section\">\n                    <h3>Confirmation de la réservation</h3>\n                    <p><strong>Date :</strong> {selectedDate}</p>\n                    <p><strong>Heure :</strong> {selectedSlot}</p>\n                    <ul>\n                        {selectedServices.map(service => (\n                            <li key={service.id}>{decodeHTMLEntities(service.title)} – {service.duration} min</li>\n                        ))}\n                    </ul>\n                    <p><strong>Durée totale :</strong> {totalDuration} min</p>\n                    <p><strong>Montant total :</strong> {selectedServices.reduce((total, s) => total + parseFloat(s.price), 0)} €</p>\n\n                    <form onSubmit={handleSubmit}>\n                        <input type=\"text\" placeholder=\"Prénom\" name=\"first_name\" required />\n                        <input type=\"text\" placeholder=\"Nom\" name=\"last_name\" required />\n                        <input type=\"email\" placeholder=\"Email\" name=\"email\" required />\n                        <input type=\"tel\" placeholder=\"Téléphone\" name=\"phone\" required />\n                        <button type=\"submit\">Confirmer la réservation</button>\n                    </form>\n\n                    <button onClick={() => setStep(2)}>← Retour au créneau</button>\n                </div>\n            )}\n        </div>\n    );\n\n}\n\nfunction groupServicesByCategory(services) {\n    return services.reduce((acc, service) => {\n        const category = service.category?.name || 'Autres';\n        if (!acc[category]) {\n            acc[category] = [];\n        }\n        acc[category].push(service);\n        return acc;\n    }, {});\n}\n\nfunction decodeHTMLEntities(text) {\n    const txt = document.createElement('textarea');\n    txt.innerHTML = text;\n    return txt.value;\n}\n\nfunction parseTime(timeStr) {\n    const [h, m] = timeStr.split(':').map(Number);\n    return h * 60 + m;\n}\n\nfunction minutesToTime(minutes) {\n    const h = Math.floor(minutes / 60).toString().padStart(2, '0');\n    const m = (minutes % 60).toString().padStart(2, '0');\n    return `${h}:${m}`;\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const container = document.getElementById('youbookpro-booking-root');\n    if (container) {\n        const root = createRoot(container);\n        root.render(<BookingBlock />);\n    }\n});\n"],"names":["React","useState","useEffect","createRoot","jsx","_jsx","jsxs","_jsxs","BookingBlock","step","setStep","selectedServices","setSelectedServices","services","setServices","loading","setLoading","error","setError","selectedDate","setSelectedDate","reservedSlots","setReservedSlots","availableSlots","setAvailableSlots","reservations","setReservations","selectedSlot","setSelectedSlot","totalDuration","reduce","sum","service","parseInt","duration","handleSubmit","e","preventDefault","formData","FormData","target","clientData","first_name","get","last_name","email","phone","date","time","map","s","id","fetch","method","headers","body","JSON","stringify","then","res","json","data","alert","catch","console","generateAvailableSlots","opening","closing","interval","durationNeeded","slots","t","slotStart","slotEnd","overlap","some","r","end","start","push","minutesToTime","fetchReservedSlots","transformed","parseTime","toggleService","prev","exists","find","filter","length","response","ok","Error","timer","setTimeout","clearTimeout","className","children","Object","entries","groupServicesByCategory","category","categoryServices","decodeHTMLEntities","title","price","onClick","total","parseFloat","type","onChange","value","onSubmit","placeholder","name","required","acc","text","txt","document","createElement","innerHTML","timeStr","h","m","split","Number","minutes","Math","floor","toString","padStart","addEventListener","container","getElementById","root","render"],"sourceRoot":""}