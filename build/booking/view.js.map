{"version":3,"file":"booking/view.js","mappings":"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","sources":["webpack://youbookpro/./node_modules/react-dom/client.js","webpack://youbookpro/external window \"React\"","webpack://youbookpro/external window \"ReactDOM\"","webpack://youbookpro/external window \"ReactJSXRuntime\"","webpack://youbookpro/webpack/bootstrap","webpack://youbookpro/webpack/runtime/compat get default export","webpack://youbookpro/webpack/runtime/define property getters","webpack://youbookpro/webpack/runtime/hasOwnProperty shorthand","webpack://youbookpro/webpack/runtime/make namespace object","webpack://youbookpro/./src/booking/view.js"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","module.exports = window[\"React\"];","module.exports = window[\"ReactDOM\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import React, { useState, useEffect } from 'react';\nimport { createRoot } from 'react-dom/client';\n\nfunction BookingBlock() {\n    const [services, setServices] = useState([]);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        fetch('/wp-json/youbookpro/v1/services')\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error('Erreur de chargement des services');\n                }\n                return response.json();\n            })\n            .then(data => {\n                setServices(data);\n                setLoading(false);\n            })\n            .catch(error => {\n                console.error('Erreur lors du chargement des services:', error);\n                setLoading(false);\n            });\n    }, []);\n\n    return (\n        <div className=\"services-section\">\n            {loading ? (\n                <p className=\"services-loading\">Chargement des services...</p>\n            ) : (\n                Object.entries(groupServicesByCategory(services)).map(([category, categoryServices]) => (\n                    console.log('category:', category, 'type:', typeof category),\n                    <div key={category} className=\"category-block\">\n                        <h4 className=\"category-title\">{decodeHTMLEntities(category)}</h4>\n                        <div className=\"category-table-wrapper\">\n                            <table className=\"category-table\">\n                                <thead>\n                                    <tr>\n                                        <th>Nom du service</th>\n                                        <th>Prix</th>\n                                        <th>Durée</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {categoryServices.map(service => (\n                                        <tr key={service.id}>\n                                            <td>{decodeHTMLEntities(service.title)}</td>\n                                            <td>{service.price} €</td>\n                                            <td>{service.duration} min</td>\n                                        </tr>\n                                    ))}\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                ))\n            )}\n        </div>\n    );\n}\n\nfunction groupServicesByCategory(services) {\n    return services.reduce((acc, service) => {\n        const category = service.category?.name || 'Autres';\n        if (!acc[category]) {\n            acc[category] = [];\n        }\n        acc[category].push(service);\n        return acc;\n    }, {});\n}\n\nfunction decodeHTMLEntities(text) {\n    const txt = document.createElement('textarea');\n    txt.innerHTML = text;\n    return txt.value;\n}\n\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const container = document.getElementById('youbookpro-booking-root');\n    if (container) {\n        const root = createRoot(container);\n        root.render(<BookingBlock />);\n    }\n});\n"],"names":["React","useState","useEffect","createRoot","jsx","_jsx","jsxs","_jsxs","BookingBlock","services","setServices","loading","setLoading","fetch","then","response","ok","Error","json","data","catch","error","console","className","children","Object","entries","groupServicesByCategory","map","category","categoryServices","log","decodeHTMLEntities","service","title","price","duration","id","reduce","acc","name","push","text","txt","document","createElement","innerHTML","value","addEventListener","container","getElementById","root","render"],"sourceRoot":""}